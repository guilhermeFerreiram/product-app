@page "/"
@page "/products"
@inherits ListProductsBase

<MudContainer>
    <MudText Typo="Typo.h4" Class="my-4">Lista de Produtos</MudText>

    <MudPaper Elevation="3" Class="pa-4">
        @if (IsLoading)
        {
            <MudProgressCircular Color="Color.Primary" Indeterminate="true" Class="my-4" />
        }
        else if (Products == null || !Products.Any())
        {
            <MudText>Nenhum produto encontrado.</MudText>
        }
        else
        {
            <MudTable Items="@Products" Hover="true" Dense="true">
                <HeaderContent>
                    <MudTh>ID</MudTh>
                    <MudTh>Nome</MudTh>
                    <MudTh>Descrição</MudTh>
                    <MudTh>Preço</MudTh>
                    <MudTh>Ações</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd>@context.Id</MudTd>
                    <MudTd>@context.Name</MudTd>
                    <MudTd>@context.Description</MudTd>
                    <MudTd>@context.Price.ToString("C")</MudTd>
                    <MudTd>
                        <MudIconButton Icon="@Icons.Material.Filled.Edit"
                                       Color="Color.Primary"
                                       OnClick="@(() => NavigateToEdit(context.Id))" />
                    </MudTd>
                </RowTemplate>
            </MudTable>
        }
    </MudPaper>
</MudContainer>
